(()=>{var e={};e.id=938,e.ids=[938],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},43424:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o});var a=t(50482),r=t(69108),n=t(62563),l=t.n(n),i=t(68300),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let o=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,78826)),"/Users/mario/friction-intelligence/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,82917)),"/Users/mario/friction-intelligence/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mario/friction-intelligence/app/settings/page.tsx"],m="/settings/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},51713:()=>{},88111:(e,s,t)=>{Promise.resolve().then(t.bind(t,74819))},30727:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},74819:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>E});var a=t(95344),r=t(57435),n=t(8428),l=t(3729),i=t(69224);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),o=(0,i.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var d=t(50340),m=t(45961),x=t(7060);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,i.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),u=(0,i.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),g=(0,i.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),p=(0,i.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),y=(0,i.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var j=t(14513),f=t(2768),b=t(1960);function N({title:e,message:s,details:t,onClose:r}){let[n,i]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=setTimeout(r,1e4);return()=>clearTimeout(e)},[r]),a.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-md animate-slide-up",children:a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg shadow-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx("h3",{className:"font-semibold text-red-900",children:e})}),a.jsx("p",{className:"text-sm text-red-800 mb-2",children:s}),t&&a.jsx("div",{className:"mt-2 p-2 bg-red-100 rounded text-xs font-mono text-red-900 overflow-x-auto",children:t})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>{let a=`${e}

${s}${t?"\n\nDetails: "+t:""}`;navigator.clipboard.writeText(a),i(!0),setTimeout(()=>i(!1),2e3)},className:"p-1 hover:bg-red-100 rounded transition-colors",title:"Copy error",children:n?a.jsx(x.Z,{className:"w-4 h-4 text-green-600"}):a.jsx(b.Z,{className:"w-4 h-4 text-red-600"})}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-red-100 rounded transition-colors",title:"Close",children:a.jsx(j.Z,{className:"w-4 h-4 text-red-600"})})]})]})})})}/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,i.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function w({message:e,onClose:s,autoClose:t=!0}){let[r,n]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(!t)return;let e=setTimeout(s,5e3);return()=>clearTimeout(e)},[s,t]),a.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-md animate-slide-up",children:a.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 rounded-lg shadow-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx(x.Z,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-green-900 font-medium",children:e})]}),(0,a.jsxs)("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)},className:"p-1 hover:bg-green-100 rounded transition-colors",title:"Copy message",children:r?a.jsx(v,{className:"w-4 h-4 text-green-600"}):a.jsx(b.Z,{className:"w-4 h-4 text-green-600"})}),a.jsx("button",{onClick:s,className:"p-1 hover:bg-green-100 rounded transition-colors",title:"Close",children:a.jsx(j.Z,{className:"w-4 h-4 text-green-600"})})]})]})})})}function k(){let[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)(!0),[i,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)(null),[m,h]=(0,l.useState)(null),u=(0,r.createClientComponentClient)();async function g(){let{data:e}=await u.from("integrations").select("*").eq("integration_type","salesforce").eq("status","active").single();s(e),n(!1)}async function p(){if(confirm("Are you sure you want to disconnect Salesforce?"))try{await u.from("oauth_tokens").delete().eq("integration_id",e.id),await u.from("integrations").delete().eq("id",e.id),h("Salesforce disconnected successfully"),s(null)}catch(e){console.error("Disconnect error:",e),d({title:"Disconnect Error",message:"Failed to disconnect from Salesforce",details:e instanceof Error?e.message:"Unknown error"})}}async function y(){c(!0);try{let e=await fetch("/api/salesforce/sync",{method:"POST"}),s=await e.json();if(e.ok){let e=`Successfully synced ${s.synced} accounts! Top 25: ${s.portfolios.top25}, Random Sample: ${s.portfolios.randomSample}`;s.debug&&JSON.stringify(s.debug,null,2),h(e),await g(),setTimeout(()=>window.location.reload(),1e3)}else d({title:"Sync Failed",message:s.error||"Failed to sync Salesforce data",details:s.debug?JSON.stringify(s.debug,null,2):void 0})}catch(e){console.error("Sync error:",e),d({title:"Sync Error",message:"Failed to sync Salesforce data",details:e instanceof Error?e.message:"Unknown error"})}finally{c(!1)}}async function b(){let e=`${window.location.origin}/api/auth/salesforce/callback`,s=`https://storable.my.salesforce.com/services/oauth2/authorize?client_id=3MVG9zeKbAVObYjPuhPPbFbcYdcxpAS00_7FPJVYdrjBMQwFFar3VgU5wlBXkG.Zj4dH.E5JvYiGmY0yVffgF&redirect_uri=${encodeURIComponent(e)}&response_type=code&scope=api%20refresh_token`;window.location.href=s}return((0,l.useEffect)(()=>{g()},[]),t)?a.jsx("div",{className:"animate-pulse h-32 bg-gray-100 rounded-lg"}):e?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(x.Z,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-green-900",children:"Salesforce Connected"}),a.jsx("p",{className:"text-sm text-green-700 mt-1",children:e.instance_url}),(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Last synced: ",e.last_synced_at?new Date(e.last_synced_at).toLocaleString():"Never"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[a.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Encrypted"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:y,disabled:i,className:"px-4 py-2 text-sm font-medium text-green-700 bg-green-100 rounded-lg hover:bg-green-200 disabled:opacity-50",children:i?"Syncing...":"Sync Now"}),a.jsx("button",{onClick:p,className:"px-3 py-2 text-sm font-medium text-red-700 bg-red-50 rounded-lg hover:bg-red-100",children:a.jsx(j.Z,{className:"w-4 h-4"})})]})]})}),o&&a.jsx(N,{title:o.title,message:o.message,details:o.details,onClose:()=>d(null)}),m&&a.jsx(w,{message:m,onClose:()=>h(null),autoClose:!m.includes("synced")})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:a.jsx("div",{className:"flex items-start gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Salesforce"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect your Salesforce account to start tracking friction"}),(0,a.jsxs)("button",{onClick:b,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(f.Z,{className:"w-5 h-5"}),"Connect to Salesforce"]})]})})}),o&&a.jsx(N,{title:o.title,message:o.message,details:o.details,onClose:()=>d(null)}),m&&a.jsx(w,{message:m,onClose:()=>h(null),autoClose:!m.includes("synced")})]})}/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,i.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),S=(0,i.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function P(){let[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)(!0),[i,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(""),[u,g]=(0,l.useState)(""),[p,y]=(0,l.useState)(""),[b,v]=(0,l.useState)(!1),[k,P]=(0,l.useState)(null),[E,Z]=(0,l.useState)(null),_=(0,r.createClientComponentClient)();async function M(){let{data:e}=await _.from("integrations").select("*").eq("integration_type","jira").eq("status","active").single();s(e),n(!1)}async function A(){c(!0);try{let e=await fetch("/api/jira/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jiraUrl:m,email:u,apiToken:p})}),s=await e.json();e.ok?(Z("Successfully connected to Jira!"),await M(),h(""),g(""),y("")):P({title:"Failed to connect",message:s.error||"Unknown error occurred",details:s.details})}catch(e){console.error("Connect error:",e),P({title:"Connection Error",message:"Failed to connect to Jira",details:e instanceof Error?e.message:"Unknown error"})}finally{c(!1)}}async function F(){if(confirm("Are you sure you want to disconnect Jira? This will delete all synced issues."))try{(await fetch("/api/jira/disconnect",{method:"POST"})).ok?(Z("Jira disconnected successfully"),s(null)):P({title:"Disconnect Failed",message:"Failed to disconnect from Jira"})}catch(e){console.error("Disconnect error:",e),P({title:"Disconnect Error",message:"Failed to disconnect from Jira",details:e instanceof Error?e.message:"Unknown error"})}}async function T(){d(!0);try{let e=await fetch("/api/jira/sync",{method:"POST"}),s=await e.json();if(e.ok){let e=s.total_available>s.synced?` (${s.total_available} total available - rerun sync to get more)`:` (all ${s.total_available} available)`;Z(`Successfully synced ${s.synced} Jira issues${e}! Theme links created: ${s.links_created}`),await M()}else P({title:"Sync Failed",message:s.error||"Failed to sync Jira issues",details:s.details})}catch(e){console.error("Sync error:",e),P({title:"Sync Error",message:"Failed to sync Jira issues",details:e instanceof Error?e.message:"Unknown error"})}finally{d(!1)}}return((0,l.useEffect)(()=>{M()},[]),t)?a.jsx("div",{className:"animate-pulse h-32 bg-gray-100 rounded-lg"}):e?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(x.Z,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-green-900",children:"Jira Connected"}),a.jsx("p",{className:"text-sm text-green-700 mt-1",children:e.instance_url}),(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Email: ",e.metadata?.email]}),(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Last synced: ",e.last_synced_at?new Date(e.last_synced_at).toLocaleString():"Never"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[a.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Encrypted"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:T,disabled:o,className:"px-4 py-2 text-sm font-medium text-green-700 bg-green-100 rounded-lg hover:bg-green-200 disabled:opacity-50",children:o?"Syncing...":"Sync Now"}),a.jsx("button",{onClick:F,className:"px-3 py-2 text-sm font-medium text-red-700 bg-red-50 rounded-lg hover:bg-red-100",children:a.jsx(j.Z,{className:"w-4 h-4"})})]})]})}),k&&a.jsx(N,{title:k.title,message:k.message,details:k.details,onClose:()=>P(null)}),E&&a.jsx(w,{message:E,onClose:()=>Z(null),autoClose:!E.includes("synced")})]}):(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Jira"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Link your Jira account to track which friction themes are being addressed"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jira URL"}),a.jsx("input",{type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"yourcompany.atlassian.net",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your Atlassian Cloud domain"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:u,onChange:e=>g(e.target.value),placeholder:"you@yourcompany.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your Atlassian account email"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Token"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:b?"text":"password",value:p,onChange:e=>y(e.target.value),placeholder:"Your Jira API token",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),a.jsx("button",{type:"button",onClick:()=>v(!b),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:b?a.jsx(C,{className:"w-4 h-4"}):a.jsx(S,{className:"w-4 h-4"})})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Generate at"," ",a.jsx("a",{href:"https://id.atlassian.com/manage-profile/security/api-tokens",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Atlassian Account Settings"})]})]}),a.jsx("button",{onClick:A,disabled:i||!m||!u||!p,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed w-full justify-center",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(f.Z,{className:"w-5 h-5"}),"Connect to Jira"]})})]}),k&&a.jsx(N,{title:k.title,message:k.message,details:k.details,onClose:()=>P(null)}),E&&a.jsx(w,{message:E,onClose:()=>Z(null),autoClose:!0})]})}function E(){let[e,s]=(0,l.useState)(null),[t,i]=(0,l.useState)(!0),j=(0,r.createClientComponentClient)(),f=(0,n.useRouter)();async function b(){let{data:{user:e}}=await j.auth.getUser();s(e),i(!1)}async function N(){await j.auth.signOut(),f.push("/")}return((0,l.useEffect)(()=>{b()},[]),t)?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),a.jsx("button",{onClick:()=>f.push("/dashboard"),className:"text-sm text-gray-600 hover:text-gray-900",children:"← Back to Dashboard"})]})})}),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(c,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"What is this?"})]}),(0,a.jsxs)("div",{className:"space-y-6 text-gray-700",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Overview"}),(0,a.jsxs)("p",{className:"leading-relaxed",children:["This is a ",a.jsx("strong",{children:"Friction Intelligence Platform"})," that helps Customer Success and Account Management teams proactively identify and address customer issues before they escalate into churn risks. By analyzing support case data from Salesforce, the platform surfaces patterns of friction across your customer portfolio and provides actionable insights for customer visits and quarterly business reviews."]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(o,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Purpose"})]}),(0,a.jsxs)("ul",{className:"space-y-2 ml-6",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Early Warning System:"})," Detect friction signals before customers become at-risk"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Data-Driven Conversations:"})," Walk into customer meetings with specific, evidence-based talking points"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Portfolio Intelligence:"})," Understand which issues are systemic vs. account-specific"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Product Feedback Loop:"})," Aggregate friction themes to inform product roadmap decisions"]})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(d.Z,{className:"w-5 h-5 text-green-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"How to Use This Platform"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Step 1: Sync Your Data"}),(0,a.jsxs)("p",{className:"text-sm",children:["Click ",a.jsx("strong",{children:'"Sync Now"'})," on the Dashboard to pull the latest case data from Salesforce. The system will automatically sync cases from your Top 25 accounts (by ARR) and analyze them using AI to identify friction signals."]})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Step 2: Review Your Dashboard"}),a.jsx("p",{className:"text-sm mb-2",children:"The Dashboard shows:"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1 ml-4",children:[(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"OFI Score"})," (0-100): Lower is better. 70+ = Critical, 40-69 = Moderate, 0-39 = Healthy"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"Case Volume Trends:"})," Unusual spikes in support volume indicate potential issues"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"Software Filter:"})," View EDGE or SiteLink customers separately"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"Key Themes:"})," Common friction patterns across your portfolio"]})]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Step 3: Drill Into Account Details"}),a.jsx("p",{className:"text-sm mb-2",children:"Click any account to see detailed friction analysis including:"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1 ml-4",children:[(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"Friction Cards:"})," AI-analyzed support cases showing severity, sentiment, and themes"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"Volume Analysis:"})," How their case volume compares to their historical baseline and peers"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"Case Origins:"})," Which channels customers are using (email, phone, chat, etc.)"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("strong",{children:"Trend Charts:"})," OFI score trajectory over the last 90 days"]})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Step 4: Generate Visit Briefings"}),(0,a.jsxs)("p",{className:"text-sm",children:["On any account page, click ",a.jsx("strong",{children:'"Generate Briefing"'})," to create a customer visit prep document. Choose ",a.jsx("strong",{children:"Quick Briefing"})," (2-3 min read) for tactical check-ins or ",a.jsx("strong",{children:"Deep Dive Briefing"}),"(10 min read) for QBRs and strategic conversations. Export to PDF to share with your team."]})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(m.Z,{className:"w-5 h-5 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Metrics Explained"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:"OFI Score (Operational Friction Index)"}),(0,a.jsxs)("p",{className:"text-sm",children:["A 0-100 score where ",a.jsx("strong",{children:"lower is better"}),". Calculated from case volume, severity distribution, and friction themes. Think of it as an inverse health score - the higher the number, the more operational friction the customer is experiencing."]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Severity Levels"}),a.jsx("p",{className:"text-sm",children:"AI assigns severity 1-5 to each friction card: 1 = Minor inconvenience, 3 = Workflow blocker, 5 = Critical system failure. High severity cards require immediate attention."})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Friction Themes"}),a.jsx("p",{className:"text-sm",children:"Common categories like Integration Failures, UI Confusion, Billing Issues, etc. When the same theme appears multiple times, it suggests a systemic problem worth escalating to Product or Engineering."})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Peer Comparison"}),a.jsx("p",{className:"text-sm",children:"Shows how an account's case volume ranks among similar accounts (same software product: EDGE or SiteLink). Helps identify whether high volume is normal for that customer profile or a warning sign."})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(x.Z,{className:"w-5 h-5 text-green-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Best Practices"})]}),(0,a.jsxs)("ul",{className:"space-y-2 ml-6",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Weekly Sync:"}),' Run "Sync Now" at least once per week to keep data fresh']})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Pre-Meeting Prep:"})," Generate briefings 24 hours before customer meetings"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Track Trends:"})," Monitor OFI score changes over time, not just absolute values"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Escalate Patterns:"})," When a theme affects multiple accounts, share with Product team"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Investigate Spikes:"})," Sudden volume increases often indicate recent issues"]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(h,{className:"w-6 h-6 text-green-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Security & Compliance"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(u,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Database Encryption"}),a.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"All OAuth tokens and API keys are encrypted at rest using pgcrypto (AES-128)"})]})]}),a.jsx(x.Z,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-gray-700",children:[a.jsx("strong",{className:"text-blue-900",children:"What's encrypted:"})," Salesforce OAuth tokens (access & refresh), Jira API tokens, and other integration credentials are encrypted using industry-standard AES-128 encryption before being stored in the database."]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(g,{className:"w-6 h-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Salesforce Integration"})]}),a.jsx(k,{})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(g,{className:"w-6 h-6 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Jira Integration"})]}),a.jsx(P,{})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(p,{className:"w-6 h-6 text-gray-700"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Account"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"text-gray-900 mt-1",children:e?.email})]}),a.jsx("div",{className:"pt-4 border-t",children:(0,a.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-700 bg-red-50 rounded-lg hover:bg-red-100",children:[a.jsx(y,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})]})}},69224:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(3729),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,...m},x)=>(0,a.createElement)("svg",{ref:x,...r,width:l,height:l,stroke:t,strokeWidth:c?24*Number(i)/Number(l):i,className:["lucide",`lucide-${n(e)}`,o].join(" "),...m},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t}},45961:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},50340:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},7060:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1960:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},2768:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},14513:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},82917:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>r});var a=t(25036);t(67272);let r={title:"Friction Intelligence | Storable",description:"Early warning system for customer friction"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},78826:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let a=(0,t(86843).createProxy)(String.raw`/Users/mario/friction-intelligence/app/settings/page.tsx`),{__esModule:r,$$typeof:n}=a,l=a.default},67272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[456,356,407],()=>t(43424));module.exports=a})();